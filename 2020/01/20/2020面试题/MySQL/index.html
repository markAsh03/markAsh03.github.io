<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>MarkAsh Blog</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_859455_eaq7v6w8ktj.css">
</head>
<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                首页
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                归档
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                标签
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">John Doe's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">首页</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">归档</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">标签</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">关于</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    <article class="post-whole">
        <div class="post-title">
            <h2 class="title"></h2>
            <div class="post-meta">
                <span class="post-time">2020-01-20</span>
                
                <span class="post-visit"> 阅读次数：<span id="busuanzi_value_page_pv"></span></span>
            </div>
        </div>
        <div class="post-toc" id="post-toc">
    <strong class="post-toc-title">目录</strong>
    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL"><span class="toc-text">MySQL</span></a></li></ol>
    <div class="back-to-top" id="back-to-top">
        <a href="javascript:void(0);">回到顶部</a>
    </div>
</div>
        <div class="post-content">
            <h4 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h4><ol>
<li>主键超键候选键外键<ul>
<li>主键：</li>
<li>超键：</li>
<li>候选键：</li>
<li>外键：</li>
</ul>
</li>
<li>数据库事务的四个特性及含义<ul>
<li>原子性：要么全部成功，要么全部失败</li>
<li>一致性：执行前和执行后必须处于一致性状态 </li>
<li>隔离性：多并发事务之间相互隔离</li>
<li>持久性：事务提交后，数据的改变是永久性的</li>
</ul>
</li>
<li>隔离级别，为什么使用隔离级别？<ul>
<li>由低到高一次为Read uncommitted(未授权读取，读未提交)、Read committed（授权读取，都提交）、Repeatable Read(可重复读)、 Serializable（序列化）, 这四个级别可以逐个解释为 ：脏读、不可重复读、幻读。</li>
<li>Read uncommitted（读未提交）：如果一个事务已经开始写数据，则另一个事务则不允许进行写操作，但允许其他事务读此行数据。也就是说事务B读取了事务A未提交的数据。</li>
<li>Read Committed（读提交）：读取数据的事务允许其他事务继续访问改行数据，但未提交的写事务将会禁止其他事务访问该行。避免了脏读，但可能出现不可重复读。事务A事先读取了数据，事务B紧接着更新了数据，并提交了事务，而事务A再次读取该数据时，数据已经发生了改变。</li>
<li>Repeatable Read（可重复读）：同一个事务内，可多次读同一数据。</li>
<li>Serializable(序列化)：事务序列化执行</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>隔离级别</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
<th>第一类丢失更新</th>
<th>第二类丢失更新</th>
</tr>
</thead>
<tbody>
<tr>
<td>Read UnCommitted</td>
<td>允许</td>
<td>允许</td>
<td>允许</td>
<td>不允许</td>
<td>允许</td>
</tr>
<tr>
<td>Read Committed</td>
<td>不允许</td>
<td>允许</td>
<td>允许</td>
<td>不允许</td>
<td>允许</td>
</tr>
<tr>
<td>Repeatable Read</td>
<td>不允许</td>
<td>不允许</td>
<td>允许</td>
<td>不允许</td>
<td>不允许</td>
</tr>
<tr>
<td>Serialiable</td>
<td>不允许</td>
<td>不允许</td>
<td>不允许</td>
<td>不允许</td>
<td>不允许</td>
</tr>
</tbody>
</table>
<ol>
<li>视图的作用，视图可以更改么?<ul>
<li>是从一个或多个表导出的虚拟的表，其内容由查询定义。具有普通表的结构，但是不实现数据存储</li>
<li>单表视图一般用于查询和修改，会改变基本表的数据</li>
<li>多表视图一般用于查询，不会改变基本表的数据</li>
<li>作用：<ul>
<li>简化了操作，把经常使用的数据定义为视图</li>
<li>安全性，用户只能查询和修改能看到的数据</li>
<li>逻辑上的独立性，屏蔽了真实表的结构带来的影响</li>
</ul>
</li>
</ul>
</li>
<li>drop,delete与truncate的区别<ul>
<li>drop 直接删掉表</li>
<li>truncate删除的是表中的数据，再插入数据时自增长的数据id有重新从1开始</li>
<li>delete删除表中数据，可以后接where语句</li>
</ul>
</li>
<li>索引的工作原理及其种类<ul>
<li>索引的实现通常使用B树及其变种B+树</li>
<li>使用索引来聚集数据的索引是聚集索引，InnoDB就是聚集索引，MyISAM是非聚集索引。 MyISAM创建表时会创建三个文件：.frm(表结构) .MYD(数据文件) .MYI(索引文件)。 InnoDB创建表时生成两个文件： .frm(表结构) .idb(数据文件)</li>
<li>聚集索引与辅助索引不同的是：叶子节点存放的是否是一整行的信息<ul>
<li>聚集索引：按照每张表的主键构造一棵B+树，同时叶子结点存放的即为整张表的行记录数据，也将聚集索引的叶子结点称为数据页。每个数据页都通过一个双向链表来进行链接。<ul>
<li>好处：对主键的排序查找和范围查找速度非常快，叶子结点的数据就是用户所要查询的数据</li>
<li>范围查询，由于B+树索引是双向链表，通过叶子节点的上层中间节点就可以得到页的范围，之后直接读取数据页即可。</li>
</ul>
</li>
<li>辅助索引：叶子节点存放的是对应的那条数据的主键字段的值</li>
<li>覆盖索引：在辅助索引的叶子结点上就能找到想要的数据，称为覆盖索引</li>
</ul>
</li>
<li>分类：<ul>
<li>hash类型的索引：查询单条快，范围查询慢</li>
<li>btree类型的索引：B+树，层数越多，数量级指数增长</li>
</ul>
</li>
</ul>
</li>
<li>连接的种类<ul>
<li>内连接(Inner join): 两个表都存在匹配时，才返回行</li>
<li>左连接(left join): 返回左表中的所有行，即使右表中没有匹配的行</li>
<li>右连接(Right join): 返回右表中的所有行，即使左表中没有匹配的行</li>
<li>全连接(Full join): 只要某一个表存在匹配，就返回行</li>
<li>笛卡尔连接(Cartesian Join): 返回多表中记录集的笛卡尔积</li>
</ul>
</li>
<li>数据库范式<ul>
<li>1NF第一范式：<ul>
<li>每一列属性都是不可再分的属性值，确保每一列的原子性</li>
<li>两列的属性相近或者相似或一样，尽量个兵属性一样的列，确保不产生冗余数据</li>
</ul>
</li>
<li>2NF第二范式：<ul>
<li>每一行的数据只能与其中一列相关，即一行数据只做一件事，只要数据列中出现数据重复，就要把表拆分开来</li>
</ul>
</li>
<li>3NF第三范式：<ul>
<li>数据不能存在传递关系，即每个属性都跟主键有直接关系而不是间接关系</li>
</ul>
</li>
</ul>
</li>
<li>数据库优化的思路<ul>
<li>高并发读写操作： 集群，分布式</li>
<li>海量数据读写： 分表，分库</li>
<li>单机慢查询优化<ul>
<li>范式规范，3NF和反3NF</li>
<li>存储引擎选择：<ul>
<li>事务安全：MyISAM不支持，InnoDB支持</li>
<li>查询和添加速度：MyISAM快，InnoDB慢</li>
<li>全文索引：MyISAM支持， InnoDB不支持</li>
<li>锁机制：MyISAM表锁，InnoDB行锁</li>
<li>外键：MyISAM不支持，InnoDB支持</li>
</ul>
</li>
<li>索引：以空间换时间<ul>
<li>分类<ul>
<li>普通索引</li>
<li>唯一索引</li>
<li>主键索引</li>
<li>全文索引</li>
</ul>
</li>
<li>适合加索引条件<ul>
<li>较频繁作为查询条件字段应该创建索引</li>
<li>唯一性太差字段不适合单独创建索引</li>
<li>更新非常频繁的字段不适合创建索引</li>
</ul>
</li>
</ul>
</li>
<li>分表： 水平分割（行）垂直分割（列）</li>
<li>分区：<ul>
<li>方式：<ul>
<li>Range（范围）：基于一个给定的连续空间，把数据分配到不同分区</li>
<li>List（预定义列表）：类型Range分区，区别在于是基于枚举出的值列表分区。</li>
<li>Hash: 通过一个或者多个列的Hash Key进行计算得到的不同数值进行分区</li>
<li>Key：Hash的特例，MySQL系统产生的</li>
<li>Composite（复合模式）： 以上模式的组合使用</li>
</ul>
</li>
<li>空值的处理：<ul>
<li>Range： 默认放入最小值分区</li>
<li>List： 必须指定Null值匹配</li>
<li>Hash：默认当成0</li>
</ul>
</li>
</ul>
</li>
<li>DQL：<ul>
<li>放弃索引： != &lt;&gt; is null or in not like模糊前置匹配</li>
</ul>
</li>
</ul>
</li>
<li>集群：主从同步+读写分离+主备切换</li>
<li>分布式： </li>
<li>缓存：         </li>
</ul>
</li>
<li>存储过程与触发器的区别<ul>
<li>存储过程是一组已创建并存储在数据库中的SQL语句，可重用。 触发器是一种特殊的不是由用户直接调用的存储过程。</li>
<li>用户可以使用Execute或Exec语句直接调用或执行存储过程，而无法直接调用执行触发器，触发相关事件时，自动执行。</li>
<li>存储过程可输入参数，触发器不能</li>
<li>存储过程可返回值，触发器不能</li>
<li>存储过程中可以使用事务，触发器不允许进行事务处理</li>
<li>存储过程通过用于执行用户指定的任务，触发器通常用于审计工作</li>
</ul>
</li>
</ol>

        </div>
        
    </article>
</div>
<div class="paginator">
    
        
            <a class="prev" href="/2020/01/20/2020面试题/Redis/">
                <i class="iconfont icon-prev"></i>
                <span class="nav-default"></span>
                <span class="nav-mobile">上一篇</span>
            </a>
        
        
            <a class="next" href="/2020/01/20/2020面试题/JVM理论/">
                <span class="nav-default"></span>
                <span class="nav-mobile">下一篇</span>
                <i class="iconfont icon-next"></i>
            </a>
        
    
</div>
<div id="comment-container"></div>
    </div>
</div>
<footer class="footer-social">
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2020
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/iJinxin">John Doe</a>
        </p>
        <p class="theme-info">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme -
            <a target="_blank" href="https://github.com/iJinxin/hexo-theme-sky">Sky</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
